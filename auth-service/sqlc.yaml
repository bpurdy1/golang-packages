version: "2"
sql:
  # Account package - user management and authentication
  - engine: "sqlite"
    queries: "account/db/queries"
    schema: "account/db/migrations"
    gen:
      go:
        package: "account"
        out: "account"
        emit_json_tags: true
        emit_prepared_queries: false
        emit_interface: true
        emit_exact_table_names: false
        emit_sql_as_comment: true
        emit_pointers_for_null_types: true

  # Metadata package - key-value metadata storage for users
  - engine: "sqlite"
    queries: "metadata/db/queries"
    schema: "metadata/db/migrations"
    gen:
      go:
        package: "metadatadb"
        out: "metadata/metadata-db"
        emit_json_tags: true
        emit_prepared_queries: true
        emit_interface: true
        emit_exact_table_names: false
        emit_sql_as_comment: true
        emit_pointers_for_null_types: true
